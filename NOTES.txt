
/* ******************************** *
 * by Greg K. Smith           2008  *
 * Programming Web Site Data Bases  *
 * www.pwsdb.com    greg@pwsdb.com  *
 * Pompano Beach,  Florida   33060  *
 * ******************************** *
 * block_remaining_lesson_timer     *
 * ******************************** */


                                Remaining Lesson Timer
                                ----------------------
 written in 2011 
 confirmed through 2018-07

This side block "remaining_lesson_timer" is for all current moodle versions through 
ver. 3.6 and is backward compatible through moodle versions 2.

Ver. 2.x:
If a time limit on the moodle lesson has been set the side-block will display both
the time spent and the time remaining in minutes to a tenth of a minute.  If
the time limit is not "Enabled" the student will not be thrown out and may finish.
It will display "Time Completed" 1 second after the time limit has been reached.

2.x & 3.x:
Some lesson code marks a lesson completed only when the time is greater than the 
limit, not when equal to or greater.

The Remaining Lesson Timer code restricts its display to lesson module pages so that 
an administrator can simply have one instance that covers everything ["Display 
throughout the entire site"] and it will show up in and only in lessons where the time 
limit is set [greater than 0].  

Example: turn editing on the main admin page, open the "Add a Block" drop-down list,
select the "Remaining Lesson Timer" and then click the tiny gear to select "Configure 
Remaining Lesson Timer".  Then select where and on what pages it is to activate.  
Where it is active, it will still only show up in lesson pages where the time limit is 
set greater than 0. 

there are two html classes that can be used to change the text displayed:
class=update  on  "REFRESH TIMER" (which may be the default blue of a link otherwise)
class=completed  on   "Time Completed"   

